:doctitle: eProcurement Ontology - an Overview for Business Users
:doccode: epo-main-prod-009
:author: PWC adapted by NPJ
:authoremail: nicole-anne.paterson-jones@ext.ec.europa.eu
:docdate: June 2023
:sectnums:
:toc:
:toclevels: 4
:toc-title: Contents


== Ontology - a General Definition
In a general sense, an ontology defines what is or exists, such as

* Classes (objects)
* Class hierarchies and dependencies
* Roles, attributes, properties, relationships, and actions.

An ontology can be thought of as the description of an ecosystem, and covers all the definitions, actors, and interactions in the ecosystem. It gives structure and definition to the data collected.

== Key Data Processing Goals
In the EU, two key goals around data and data processing are pursued:

=== The Provision of Open Data

The EU's open data portal, https://data.europa.eu/, makes EU datasets publicly available on a wide range of topics such as agriculture, health, finance, transport, procurement, and many more. The portal’s intentions are to:

. give *access and foster the reuse of European open data* among citizens, business and organisations.
. promote and support the release of *more, and better-quality metadata and data* by the EU's institutions, agencies and other bodies, and European countries.
. *educate citizens and organisations* about the opportunities that arise from the availability of open data.
Collecting high quality data and fostering its reuse are key components of this goal.

=== The Enactment of the Interoperable Europe Act (Policy | Joinup (europa.eu))

The Interoperable Europe Act proposes a strategic interoperability cooperation mechanism across the European Union by “creating the setup and tools for interoperability within public administrations on a Union-wide scale and remove the unnecessary legal, organisational, semantic and technical obstacles”.

To achieve this goal, the Interoperable Europe initiative proposes:

* A *structured and co-owned EU cooperation* on interoperability that brings together public administrations, supported by public and private actors.
* *Mandatory interoperability assessments* to evaluate the impact of changes in IT systems and related digital services.
* *The share and reuse of interoperability solutions*, powered by an ‘Interoperable Europe Portal’ – a one-stop-shop for solutions, and a community platform.
* *Innovation and support measures*, including regulatory sandboxes and GovTech cooperation, to promote policy experimentation, developing skills, and the scaling up of interoperability solutions for reuse.

The provision of open-source software applications and development kits that can be adopted and developed further by consumers is key.

When starting to develop a software application, or wanting to extract data from a data set, knowing what data and metadata is, or must be, stored in it is essential. This is where an ontology comes into play, providing a “dictionary” of the data components, what kind of data they contain, and how they relate to each other.

== Reasons for a Formal Ontology
* Ease of a common vocabulary: consistency in the definition of process and concept amongst stakeholders (such as users/ technical implementors/ subject-matter experts).
* Standardisation of vocabulary
*	Adoption of an ontology standard: in this case, the open-source Web Ontology Language (OWL).
*	Consistency in the definition of process and concepts in technologies used.
*	Conception of the ontology based on expert knowledge, and maintenance of it through consultation with stakeholders.
*	Legal and regulatory compliance with EU laws and regulations.
*	The ability to respond to formal initiatives around improving EU data.
*	Transparency of EU e-procurement operations and ease of reporting.
*	Forms a foundation for the technical work required to make the e-procurement technical processes function as intended.
*	Forms the foundation upon which best practises/ principles/ governance can be applied i.e., all involved in eProcurement process have the same, correct, approved, up-to-date, and consistent definitions and understanding of what is happening in it.
*	Changes and improvements follow a formal consultation and approval process.
*	Interfaces to internal systems from other systems have a common documented system to guide their interaction.

== eProcurement Ontology (ePO)
In EU e-Procurement, the ontology describes objects and concepts, with definitions, attributes, attributes (mandatory and optional), and relationships that occur in the EU public procurement process.

=== A Time Phased Approach
Some objects of the ontology are time agnostic - a Buyer, for example, occurs at every phase of the procurement process.

Some attributes and actions of, or relationships between, objects are time and/ or circumstance dependent i.e., they only appear, or are relevant, at certain stages in the process.

image:bus1.png[]

_Figure 1. ePO phases in Chronological Order_

While the ontology can be quite complex, it must balance the need of being thorough and complete, while remaining flexible enough to evolve and change over time.

== Core Criterion and Core Evidence Vocabulary (CCCEV)
To facilitate vocabulary standardisation, the EU developed the https://joinup.ec.europa.eu/collection/semantic-interoperability-community-semic/solution/e-government-core-vocabularies/core-criterion-and-core-evidence-vocabulary[Core Criterion and Core Evidence Vocabulary (CCCEV)], which “supports the exchange of information between organisations that define criteria and organisations that respond to these criteria by means of evidences.”

In eProcurement, these are *contracting authorities that issue eNotices* (calls for tender) listing their criteria for legitimate supply, and *economic operators, organisations wishing to respond to calls for tender* by supplying the evidence that they meet the criteria for legitimate supply.

From the website, the benefits of using the CCCEV are to:

* Facilitate development of interoperable information systems: the use of common vocabularies to describe criteria and evidence facilitates the development of information systems and improves their interoperability.
* Create a repository of reusable criteria in machine-readable formats: the use of common vocabularies promotes the creation of a repository of criteria and evidence information.
* Automate the assessment of criteria: the Core Vocabulary describing the criterion responses allows systems to easily compare the information collected from different parties and enables automatic assessment of the responses for a specific criterion.
* Automate scoring of responses: weighting criteria, the assessment can be followed by an automated scoring of the responses provided by different parties.
* Promote cross-border participation in public procurement: the use of the Core Vocabulary for electronic criterion and evidence allows for removing language barriers thereby improving the cross-border exchange of information, and the cross-border participation in pan-European selection processes.
* Calculating statistics: standardising data for criterion, criterion responses and evidences allows calculating statistical information on the most common used criteria for a given process, the most relevant evidences, etc.
* Create a registry of mappings of criteria: using the Core Vocabulary, it is possible to create a registry of mappings to allow cross-checking of the criteria with the evidences of each particular Member State.

The eProcurement Ontology was developed in accordance with the CCCEV's "Once Only" principle.

=== An Explanation of the "Once Only" Principle (OOP) and the Importance of a Semantic Model

The "once-only" principle is a key enabler for simplifying administrative procedures for citizens and businesses. The idea behind this legal principle is that public authorities should not request information from businesses and citizens that they can retrieve from national databases or that they already possess.

In some European countries, this is already established practice. It not only saves millions of euros but also makes interaction between authorities, business and citizens much easier.

However, currently this works only within a country. The next step is to open up those systems to the citizens and businesses of other countries.

Opening up national databases however implies that the different systems need to be interoperable to allow effective exchange of information.

*A semantic model helps to define information in such a way that it enables the seamless transfer of data.*

Ultimately, the OOP can be implemented in a cross-border context. For instance, when citizens consume public services, they often have to provide evidence that they are entitled to such services, e.g. in the form of certificates, which they would need to request from other public administrations. In practice, the OOP requires administrations to exchange this information directly between each other, after having received consent form the citizen.  The "Core Criterion and Core Evidence" data model (CCCEV) supports this exchange. It defines in a generic way the structure of a criterion, for example, having a driving license. It also specifies the different types of evidence that can be provided as proof by citizens and businesses. The advantage of CCCEV is that it can be universally applied for any kind of criterion and evidence.


== History
The objective of the ePO was (and still is) to conceptualise and formally encode eProcurement data, and to make it available in an open, structured, and machine-readable format. This data covers the process from end-to-end, i.e., from notification, through tendering, awarding, ordering, invoicing, and finally to payment.

Under xref:history.adoc[Version History] in the menu on the left, you can read the evolution of the e-procurement ontology from version 1.0.0 to the current version, and under xref:references.adoc[Reference Documents], you can find documents that contain some useful background information, those that proposed the project, created the specifications, described the work, and set the framework for creating the ontology.

== Representation of the eProcurement Ontology
The ontology artifacts are in the form of:

* *Conceptual models*: these are provided in the enterprise architecture format of visual maps, showing the elements: the classes, their properties,their  attributes, the relationships between classes, the direction of relationship, the nature of relationships e.g., 1 to many, etc.

* *Glossaries*: these are provided in the form of tables that list the elements, its definition, the attributes of the class, and the format the data must be in e.g., numeric, binary, etc.


=== The Core Vocabulary Module and Other Modules

The eProcurement ontology includes a core module, containing common vocabulary elements, and specific modules: eCatalogue, eNotice, and eOrdering, containing vocabularies specific to that module.

*The Conceptual Models can be viewed via the following links*

* The  eCore Conceptual Module: link:{attachmentsdir}/html_reports/ePO/index.html[HTML] and
link:https://github.com/OP-TED/ePO/blob/v3.1.0/analysis_and_design/conceptual_model/ePO_CM.eap[eap] (Enterprise Architecture format)
* The eCatalogue Conceptual Module: link:{attachmentsdir}/html_reports/eCatalogue/index.html[HTML] and link:https://github.com/OP-TED/ePO/blob/v3.1.0/analysis_and_design/conceptual_model/ePO_CM.eap[eap] (Enterprise Architecture format)
* The eNotice Conceptual Module: link:{attachmentsdir}/html_reports/eNotice/index.html[HTML] and link:https://github.com/OP-TED/ePO/blob/v3.1.0/analysis_and_design/conceptual_model/ePO_CM.eap[eap] (Enterprise Architecture format)
* The eOrdering Module: link:{attachmentsdir}/html_reports/eOrdering/index.html[HTML] and link:https://github.com/OP-TED/ePO/blob/v3.1.0/analysis_and_design/conceptual_model/ePO_CM.eap[eap] (Enterprise Architecture format)

'''
*The Glossaries for the following entities can be downloaded via the following links:*

* link:{attachmentsdir}/html_reports/glossary/ePO_glossary.html[The eCore Glossary] can be viewed link:{attachmentsdir}/html_reports/glossary/ePO_glossary.html[here]
* link:{attachmentsdir}/html_reports/glossary/eCatalogue_glossary.html[The eCatalogue Glossary] can be viewed link:{attachmentsdir}/html_reports/glossary/eCatalogue_glossary.html[here]
* link:{attachmentsdir}/html_reports/glossary/eNotice_glossary.html[The eNotice Glossary] can be viewed link:{attachmentsdir}/html_reports/glossary/eNotice_glossary.html[here]
* link:{attachmentsdir}/html_reports/glossary/eOrdering_glossary.html[The eOrdering Glossary] can be viewed link:{attachmentsdir}/html_reports/glossary/eOrdering_glossary.html[here]
* link:{attachmentsdir}/html_reports/glossary/ePO-combined-glossary.html[The ePO Combined Glossary] can be viewed link:{attachmentsdir}/html_reports/glossary/ePO-combined-glossary.html[here]

The modular structure of the ePO to makes maintaining the model easier.

image:bus2.png[]

_Figure 2. Modular approach of ePO (work in progress)_


== Formal Change Management of the eProcurement Ontology
The https://joinup.ec.europa.eu/collection/semic-support-centre/specifications[EU’s Semic support site] contains information on a number of core vocabularies in the EU, as well as the services and activities around them that include change management processes and procedures. The approach for change management is explained in the xref:change.adoc[Description of a change management release and publication process for structural metadata specifications developed by the ISA Programme] (also summarised for the eProcurement Ontology in chapter 4.3 of the xref:charter.adoc[Project Charter Document])

This document formalises how changes to the specifications of structural metadata developed by the ISA Programme are managed and how new releases are published. According to the definitions followed by the ISA Programme, structural metadata includes data models e.g., https://joinup.ec.europa.eu/collection/semantic-interoperability-community-semic/solution/dcat-application-profile-data-portals-europe/release/211[DCAT application profile for data portals in Europe] and reference data.

This change management process has the following characteristics:

* *Openness*: In order for public administrations to rely on specifications of structural metadata developed by the ISA Programme, the openness of the change management is key – openness is also a key assessment criterion in the Common Assessment Method of Standards and Specifications. Openness means that requests for changes can be submitted by any stakeholder, and that the analysis and decisions taken are logged, transparently. An open change management process improves the quality of the specification.
* *Controlled change*: Public administrations that use structural metadata or implement specifications of structural metadata developed by the ISA Programme must not be negatively impacted by unexpected changes to these specifications. A release schedule must be established, allowing changes to take place in a stepwise and traceable manner. New releases should also be versioned consistently.

The Change Management process is based on generic change and release management processes in link:https://en.wikipedia.org/wiki/ITIL#History[ITIL v3], and the generic xref:metgovman.adoc[Methodology and tools for Structural Metadata Management and Governance].

== Source Management

Best practices, i.e., the use of a version-controlled repository (GitHub) and tool (Git), are employed for the development of the ontology. A master/ main branch is used as the source from which code is published.  To make changes to the model, development is done on temporary branches using tags. After validation, the new branch is merged with the main/ master.

image:bus3.png[]

_Figure 3. Source management methodology_

== Other Rules and Scope

Additional rules the Ontology development are based on:

* Using an upper-level ontology as an anchor and deciding the appropriate underpinning, ontological commitment and level of abstraction (the upper model is not included in the final ontology).
* Modelling principles set in place and applied consistently with respect to naming, relation directions, design patterns applied, etc.
* The scope set to include both the concepts in the  TED standard forms (non-electronic) and those from the eForms.
eForms coverage
* One goal for ePO is that all eForms business terms (BTs) are present in the ontology. This means that BTs become attributes of a class or relations (predicates).

image:bus4.png[]

_Figure 4. eForms coverage_


== The Evolution of the eProcurement Ontology
The creation and maintenance of the ontology is a collaboration between the Publications Office (OP), programmers, working group members and other stakeholders. Meetings to discuss, agree and schedule changes to the ontology occur regularly.

Triggers for changes in the ontology might be:

•	Changes in law e.g., a change in the requirements for trade, in certain products, or from certain suppliers
•	Changes in the functionality of software modules using the eProcurement ontology
•	Feedback from users (errors or suggestions)
•	Discussion in the working group meetings
•	Planned features in upcoming software releases
•	New initiatives by the EU to further their data related goals

Changes in the ontology cannot be done in isolation from the applications that are based on them. This is where versioning protects the functionality of the last version for those still using it, while allowing those who wish to adopt the new version to do so. Both versions work in parallel for a time until legislation or other reason, e.g., the withdrawal of technical support, forces users to upgrade their version.

== The Hierarchical Nature of the Model
Having an upper level of definition is important and helpful. The example below shows how an agent is the higher or abstract level and person is a lower, and more concrete, level.

image:bus5.png[]

_Figure 5. Upper-level organisation of ePO_

The development of the eProcurement ontology is oriented by a principle based perspective. One example of a principle is that once something is created / instantiated it is not possible to modify it to something else completely different e.g., an organisation should be created only once and not repeated in a different form in the model.

image:bus6.png[]

_Figure 6. Principles for ePO development_

== Technical Aspects

Enterprise Architect (EA) is the tool used to design the conceptual model. The ontology is designed as a UML model and class diagrams offer thematic views on the model.
The ontology architecture covers the main building blocks of the ontology, how it is layered (core, restrictions and shapes), and what output artefacts are created for each layer.
The UML model follows a set of conventions so that it can be transformed automatically into OWL, and SHACL representations (using a model2owl toolchain).

== Examples of the Conceptual Model Elements
=== Model refactoring
The new version adopts a package-based grouping of concepts. More, and more specialised diagrams have also been introduced during the development of the model than existed at the beginning of the ePO development. This is to facilitate clarity and understanding by concentrating on a particular aspect or scope which avoids distraction by out-of-scope concepts.

image:bus7.png[]

_Figure 7. Package-based grouping of ePO concepts_


=== The New Structure of the ePO Model provides Hierarchy and Relation Diagrams

image:bus8.png[]

_Figure 8. Hierarchy diagram (focus on the abstraction)_

image:bus9.png[]

_Figure 9. Relations diagram (focus on the connections)_

There are diagrams used for a scoped view versus a wide view of the model. It is useful to distinguish these scope diagrams because you can see how they are connected to other concepts, some show only the relations, some show only the hierarchy. So, even if the concepts are repeated across various diagrams, this makes it easier to follow the logical model construction.

image:bus10.png[align="center"]

_Figure 10. xsd data types used_

image:bus11.png[]

_Figure 11. Example of transitioning from old UML/UBL data types to new XSD data types_


* In the past the properties of a class the attribute type ‘Code’ was associated with the class where needed. In this diagram, the attributes type codes have been removed showing only the relations.

image:bus12.png[]

_Figure 12. Removal of “Code” type attributes_

* The naming conventions are harmonised for predicates and class names. The source class is connected with the target class using a verb.

image:bus13.png[]

_Figure 13. Harmonisation of predicates and class names_

* The definitions of classes and attributes were completed for version 3.0.0.
* Efforts were made to align to core vocabularies. The following core vocabularies were re-used:
** Core Location Vocabulary
** Core Person Vocabulary
** Core Public Organisation Vocabulary
** Core Criterion and Core Evidence Vocabulary
** Core Public Service Vocabulary Application Profile

Another important part of the development was focused on the reification of the roles. After many discussions, the "agent in role" design pattern seemed to be the optimal approach for this.

image:bus14.png[]

_Figure 14. Agent In Role pattern_

From version 3.x, the roles are represented as a hierarchical structure of concepts, with the superclass being the AgentInRole concept (following the agent in role design pattern). The agent in role is played by an agent, and it is contextualised by a procurement object (for example, lot or procedure).

image:bus15.png[]

_Figure 15. Roles hierarchy_

include::partial$feedback.adoc[]